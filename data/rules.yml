version: "3.1"

rules:
  - rule: ToChucNghiLe
    steps:
      - intent: ToChucNghiLe
      - action: customActionBase
  # - rule: trach_nhiem_va_quyen_han
  #   steps:
  #     - intent: trach_nhiem_va_quyen_han
  #     - action: trachNhiemVaQuyenHanAction
  - rule: Kích hoạt form trách nhiệm
    steps:
      - intent: trach_nhiem_va_quyen_han
      - action: trach_nhiem_quyen_han_form
      - active_loop: trach_nhiem_quyen_han_form
  - rule: Hoàn tất form trách nhiệm và quyền hạn
    condition:
      - active_loop: trach_nhiem_quyen_han_form
    steps:
      - action: trach_nhiem_quyen_han_form
      - active_loop: null
      - action: trachNhiemVaQuyenHanAction
  - rule: NguyenTacLamViec
    steps:
      - intent: NguyenTacLamViec
      - action: customActionBase
  - rule: ThamQuyenPheDuyetHop
    steps:
      - intent: ThamQuyenPheDuyetHop
      - action: customActionBase
  - rule: TrachNhiemTiepCBCS
    steps:
      - intent: TrachNhiemTiepCBCS
      - action: trachNhiemTiepCBCSAction
  - rule: LoaiHoiNghiVaHop
    steps:
      - intent: LoaiHoiNghiVaHop
      - action: customActionBase
  - rule: LoaiChuongTrinhCongTac
    steps:
      - intent: LoaiChuongTrinhCongTac
      - action: customActionBase
  - rule: pham_vi_giai_quyet_cong_viec_thu_truong
    steps:
      - intent: pham_vi_giai_quyet_cong_viec
      - action: phamViGiaiQuyetCongViecAction
  - rule: TrinhTuToChucHop
    steps:
      - intent: TrinhTuToChucHop
      - action: customActionBase
  - rule:
    steps:
      - intent: quy_trinh_xay_dung_chuong_trinh_cong_tac
      - action: quyTrinhXayDungChuongTrinhCongTacAction
  - rule: chaohoi
    steps:
      - intent: chaohoi
      - action: utter_chaohoi
  - rule: tambiet
    steps:
      - intent: tambiet
      - action: utter_tambiet
  - rule: NguyenTacToChucHop
    steps:
      - intent: NguyenTacToChucHop
      - action: customActionBase
  - rule: CanCuXayDungChuongTrinhCongTac
    steps:
      - intent: CanCuXayDungChuongTrinhCongTac
      - action: customActionBase
  - rule: TrinhVaKyVanBan
    steps:
      - intent: TrinhVaKyVanBan
      - action: customActionBase
  - rule: ThamQuyenDuyetVaKyVanBan
    steps:
      - intent: ThamQuyenDuyetVaKyVanBan
      - action: customActionBase
  - rule: TieuChuanChucDanhGiangDay
    steps:
      - intent: TieuChuanChucDanhGiangDay
      - action: customActionBase
  - rule: ThamQuyenBoNhiemBaiNhiemChucDanhGiangDay
    steps:
      - intent: ThamQuyenBoNhiemBaiNhiemChucDanhGiangDay
      - action: customActionBase
  - rule: NguyenTacBoNhiemBaiNhiemChucNangGiangDay
    steps:
      - intent: NguyenTacBoNhiemBaiNhiemChucNangGiangDay
      - action: customActionBase
  - rule: HoSoThuTucMienNhiemBaiNhiemChucDanhGiangDay
    steps:
      - intent: HoSoThuTucMienNhiemBaiNhiemChucDanhGiangDay
      - action: customActionBase
  - rule: HoiVeDieu
    steps:
      - intent: HoiVeDieu
      - action: hoiVeDieuAction
  - rule: fallback
    steps:
      - intent: nlu_fallback
      # - action: action_phogpt_fallback
      - action: action_fallback_ollama_phogpt
  - rule: OutOfScope
    steps:
      - intent: out_out_scope
      - action: action_fallback_ollama_phogpt
